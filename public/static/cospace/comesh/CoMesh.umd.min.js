(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["CoMesh"]=e():t["CoMesh"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s="fae3")}({"0f76":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(){this.m_bufSortFormat=0,this.vbWholeDataEnabled=!1,this.wireframe=!1,this.polyhedral=!0,this.transMatrix=null}createIVSBYSize(t){return t>65535?new Uint32Array(t):new Uint16Array(t)}createIVSByArray(t){return t.length>65535?new Uint32Array(t):new Uint16Array(t)}setBufSortFormat(t){this.m_bufSortFormat=t}applyMaterial(t,e){t.initializeByCodeBuf(e),this.m_bufSortFormat=t.getBufSortFormat()}createMesh(){let t=CoRScene.createRawMesh();return t.setTransformMatrix(this.transMatrix),t.setBufSortFormat(this.m_bufSortFormat),t.reset(),this.setMeshData(t),t.vbWholeDataEnabled=this.vbWholeDataEnabled,t.wireframe=this.wireframe,t.setPolyhedral(this.polyhedral),t.initialize(),t.toElementsTriangles(),this.transMatrix=null,this.m_bufSortFormat=0,t}setMeshData(t){}}e.MeshBuilder=i},"159a":function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s("5282")),a=s("0f76");class n extends a.MeshBuilder{constructor(){super(),this.radius=30,this.height=100,this.longitudeNumSegments=2,this.alignYRatio=-.5,this.inverseUV=!1,this.uScale=1,this.vScale=1}create(t,e,s,i=-.5){return this.radius=t,this.height=e,this.longitudeNumSegments=s,this.alignYRatio=i,this.createMesh()}setMeshData(t){let e=this.radius,s=this.height,i=this.longitudeNumSegments,a=this.alignYRatio;e<.01&&(e=.01),i<2&&(i=2);let n=2,l=1,h=0,o=0,u=0,c=0,d=0;e=Math.abs(e),s=Math.abs(s);let m=a*s,f=new r.default(0,m,0,o),_=[],p=[];p.push([]);let y=p[0];for(f.u=.5,f.v=.5,h=0;h<1;++h)f.index=o,++o,y.push(f.cloneVertex()),_.push(y[h]);d=m;let v=.499;for(;l<n;++l){u=Math.PI*l/n,f.y=d,p.push([]);let t=p[l];for(h=0;h<i;++h)u=2*Math.PI*h/i,c=Math.sin(u),d=Math.cos(u),f.x=c*e,f.z=d*e,f.index=o,++o,c*=v,d*=v,f.u=.5+c,f.v=.5+d,t.push(f.cloneVertex()),_.push(t[h]);t.push(t[0])}p.push([]);let S=p[p.length-1],g=p[p.length-2];for(h=0;h<i;++h)S.push(g[h].cloneVertex()),S[h].index=o,++o,_.push(S[h]);S.push(S[0]),f.x=0,f.y=m+s,f.z=0,f.u=.5,f.v=.5,p.push([]);let M=p[p.length-1];for(h=0;h<i;++h)f.index=o,++o,M.push(f.cloneVertex()),_.push(M[h]);M.push(M[0]);let x=null,b=[];for(l=1,n+=1;l<=n;++l){let t=p[l-1],e=p[l];for(h=1;h<=i;++h)1==l?(b.push(t[0].index),b.push(e[h].index),b.push(e[h-1].index)):l==n&&(b.push(t[h].index),b.push(e[h].index),b.push(t[h-1].index))}let w=_.length,F=new Float32Array(3*w);for(l=0,h=0;h<w;++h)x=_[h],F[l]=x.x,F[l+1]=x.y,F[l+2]=x.z,l+=3;let V=new Uint16Array(b);if(t.addFloat32Data(F,3),t.isUVSEnabled()){let e=new Float32Array(2*w);for(l=0,h=0;h<w;++h)x=_[h],e[l]=x.u,e[l+1]=x.v,l+=2;t.addFloat32Data(e,2)}if(t.isNVSEnabled()){let e=new Float32Array(3*w),s=V.length/3;CoAGeom.SurfaceNormal.ClacTrisNormal(F,F.length,s,V,e),t.addFloat32Data(e,3)}t.setIVS(V)}}e.ConeMeshBuilder=n},"1eb2":function(t,e,s){"use strict";if("undefined"!==typeof window){var i=window.document.currentScript,r=s("8875");i=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var a=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(s.p=a[1])}},5282:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t=0,e=0,s=0,i=0){this.x=0,this.y=0,this.z=0,this.u=0,this.v=1,this.nx=0,this.ny=0,this.nz=0,this.index=0,this.x=t,this.y=e,this.z=s,this.index=i}cloneVertex(){let t=new i(this.x,this.y,this.z,this.index);return t.nx=this.nx,t.ny=this.ny,t.nz=this.nz,t.u=this.u,t.v=this.v,t}copyFrom(t){this.x=t.x,this.y=t.y,this.z=t.z,this.u=t.u,this.v=t.v,this.nx=t.nx,this.ny=t.ny,this.nz=t.nz,this.index=t.index}}e.default=i},"778d":function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s("0f76"),a=i(s("5282"));class n extends r.MeshBuilder{constructor(){super(),this.inverseUV=!1,this.uvScale=1}create(t,e=20,s=20,i=!1){return this.m_radius=t,this.m_longitudeNumSegments=e,this.m_latitudeNumSegments=s,this.m_doubleTriFaceEnabled=i,this.createMesh()}setMeshData(t){let e=this.m_radius,s=this.m_longitudeNumSegments,i=this.m_latitudeNumSegments,r=this.m_doubleTriFaceEnabled;e<1e-4&&(e=1e-4),s<2&&(s=2),i<2&&(i=2),this.m_radius=Math.abs(e),this.m_longitudeNumSegments=s,this.m_latitudeNumSegments=i,(this.m_latitudeNumSegments+1)%2==0&&(this.m_latitudeNumSegments+=1),(this.m_longitudeNumSegments=this.m_latitudeNumSegments)&&(this.m_longitudeNumSegments+=1);let n=1,l=0,h=0,o=0,u=0,c=0,d=0,m=new a.default(0,-this.m_radius,0,h),f=[],_=[];_.push([]);let p=_[0],y=this.inverseUV?1:.5;m.u=m.v=y,m.nx=0,m.ny=-1,m.nz=0,p.push(m.cloneVertex()),f.push(p[0]);let v=0,S=0,g=1/this.m_radius;for(n=0;n<this.m_latitudeNumSegments;++n){u=Math.PI*n/this.m_latitudeNumSegments,c=Math.sin(u),d=Math.cos(u),m.y=-this.m_radius*d,v=this.m_radius*c,S=this.inverseUV?Math.abs(u/Math.PI-.5):.5-Math.abs(u/Math.PI-.5),S*=this.uvScale,_.push([]);let t=_[n];for(l=0;l<this.m_longitudeNumSegments;++l)o=2*Math.PI*l/this.m_longitudeNumSegments,++h,c=Math.sin(o),d=Math.cos(o),m.x=c*v,m.z=d*v,m.index=h,m.u=.5+c*S,m.v=.5+d*S,m.nx=m.x*g,m.ny=m.y*g,m.nz=m.z*g,t.push(m.cloneVertex()),f.push(t[l]);t.push(t[0])}++h,m.index=h,m.x=0,m.y=this.m_radius,m.z=0,m.u=m.v=y,m.nx=0,m.ny=1,m.nz=0,_.push([]);let M=_[this.m_latitudeNumSegments];M.push(m.cloneVertex()),f.push(M[0]);let x=null,b=[],w=null,F=null;for(n=1;n<=this.m_latitudeNumSegments;++n)for(w=_[n-1],F=_[n],l=1;l<=this.m_longitudeNumSegments;++l)1==n?(b.push(w[0].index),b.push(F[l].index),b.push(F[l-1].index)):n==this.m_latitudeNumSegments?(b.push(w[l].index),b.push(F[0].index),b.push(w[l-1].index)):(b.push(w[l].index),b.push(F[l-1].index),b.push(w[l-1].index),b.push(w[l].index),b.push(F[l].index),b.push(F[l-1].index));let V,A=f.length;r?(V=this.createIVSBYSize(2*b.length),V.set(b,0),b.reverse(),V.set(b,b.length)):V=this.createIVSByArray(b);let C=new Float32Array(3*A);for(n=0,l=0;l<A;++l)x=f[l],C[n]=x.x,C[n+1]=x.y,C[n+2]=x.z,n+=3;if(t.addFloat32Data(C,3),t.isUVSEnabled()){let e=new Float32Array(2*A);for(n=0,l=0;l<A;++l)x=f[l],e[n]=x.u,e[n+1]=x.v,n+=2;t.addFloat32Data(e,2)}if(t.isNVSEnabled()){let e=new Float32Array(3*A);for(n=0,l=0;l<A;++l)x=f[l],e[n]=x.nx,e[n+1]=x.ny,e[n+2]=x.nz,n+=3;t.addFloat32Data(e,3)}if(t.isCVSEnabled()){let e=new Float32Array(3*A);for(n=0,l=0;l<A;++l)e[n]=1,e[n+1]=1,e[n+2]=1,n+=3;t.addFloat32Data(e,3)}t.setIVS(V)}}e.SphereMeshBuilder=n},"7f48":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s("d78b"),r=s("ae04"),a=s("159a"),n=s("f07f"),l=s("778d"),h=new i.PlaneMeshBuilder;e.plane=h;const o=new r.LineMeshBuilder;e.line=o;const u=new a.ConeMeshBuilder;e.cone=u;const c=new n.BoxMeshBuilder;e.box=c;const d=new l.SphereMeshBuilder;function m(){return"undefined"!==typeof CoRScene?CoRScene.createDataMesh():null}function f(){return"undefined"!==typeof CoRScene?CoRScene.createRawMesh():null}function _(){return"undefined"!==typeof CoRScene?CoRScene.createBoundsMesh():null}e.sphere=d,e.createDataMesh=m,e.createRawMesh=f,e.createBoundsMesh=_},8875:function(t,e,s){var i,r,a;(function(s,n){r=[],i=n,a="function"===typeof i?i.apply(e,r):i,void 0===a||(t.exports=a)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(m){var s,i,r,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,n=/@([^@]*):(\d+):(\d+)\s*$/gi,l=a.exec(m.stack)||n.exec(m.stack),h=l&&l[1]||!1,o=l&&l[2]||!1,u=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");h===u&&(s=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(o-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=s.replace(i,"$1").trim());for(var d=0;d<c.length;d++){if("interactive"===c[d].readyState)return c[d];if(c[d].src===h)return c[d];if(h===u&&c[d].innerHTML&&c[d].innerHTML.trim()===r)return c[d]}return null}}return t}))},ae04:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s("0f76");class r extends i.MeshBuilder{constructor(){super(),this.m_posvs=null,this.m_colorvs=null,this.m_beginRad=0,this.m_rangeRad=0,this.color=CoRScene.createColor4(1,0,0,1),this.dynColorEnabled=!0}setRGB3f(t,e,s){this.color.setRGB3f(t,e,s)}createLineMesh(){let t=new Float32Array(this.m_posvs),e=CoMesh.createRawMesh();if(e.ivsEnabled=!1,e.aabbEnabled=!0,e.reset(),e.addFloat32Data(t,3),null!=this.m_colorvs){if(this.m_colorvs.length!=t.length)throw"Error: colorvs.length == vs.length";e.addFloat32Data(this.m_colorvs,3)}return e.vbWholeDataEnabled=!1,e.initialize(),e.toArraysLines(),e.vtCount=Math.floor(t.length/3),e}useColor(t){if(this.m_colorvs=null,!this.dynColorEnabled){this.m_colorvs=new Float32Array(3*t);for(let e=0;e<t;++e)this.color.toArray3(this.m_colorvs,3*e)}}createLine(t,e=null,s=0){this.m_posvs=new Float32Array([0,0,0,100,0,0]),null!=t&&t.toArray(this.m_posvs),null!=e&&e.toArray(this.m_posvs,3),this.useColor(2);let i=this.createLineMesh();if(s>1e-5){let r=s,a=CoMath.createAABB();a.min.setXYZ(t.x-r,t.y-r,t.z-r),a.max.setXYZ(t.x+r,t.y+r,t.z+r);let n=CoMath.createAABB();n.min.setXYZ(e.x-r,e.y-r,e.z-r),n.max.setXYZ(e.x+r,e.y+r,e.z+r),a.union(n),i.bounds.copyFrom(a),i.bounds.update()}return i}createRectXOY(t,e,s,i){return s+=t,i+=e,this.useColor(8),this.m_posvs=new Float32Array([t,e,0,s,e,0,s,e,0,s,i,0,s,i,0,t,i,0,t,i,0,t,e,0]),this.createLineMesh()}createRectXOZ(t,e,s,i){return s+=t,i+=e,this.useColor(8),this.m_posvs=new Float32Array([t,0,e,s,0,e,s,0,e,s,0,i,s,0,i,t,0,i,t,0,i,t,0,e]),this.createLineMesh()}createRectYOZ(t,e,s,i){return s+=t,i+=e,this.useColor(8),this.m_posvs=new Float32Array([0,t,e,0,s,e,0,s,e,0,s,i,0,s,i,0,t,i,0,t,i,0,t,e]),this.createLineMesh()}createCircle(t,e){this.m_posvs=new Float32Array(2*e*3);let s=0,i=0,r=this.m_posvs;for(let a=1;a<=e;++a)s=3*(a-1),r[i++]=t[s++],r[i++]=t[s++],r[i++]=t[s++],s=3*a,r[i++]=t[s++],r[i++]=t[s++],r[i++]=t[s++];this.useColor(2*e)}createCircleData(t,e,s,i,r,a){i<.001&&(i=.001),r<3&&(r=3),null==a&&(a=CoMath.createVec3());let n=new Array(3*(r+1)),l=0,h=this.m_rangeRad,o=h>0?h:2*Math.PI,u=[a.x,a.y,a.z];for(let c=0;c<=r;++c)h=this.m_beginRad+o*c/r,n[l+t]=u[t]+i*Math.cos(h),n[l+e]=u[e]+i*Math.sin(h),n[l+s]=u[s],l+=3;return n}createCircleXOY(t,e,s=null,i=0,r=0){this.m_beginRad=i,this.m_rangeRad=r;let a=this.createCircleData(0,1,2,t,e,s);return this.createCircle(a,e),this.createLineMesh()}createCircleXOZ(t,e,s=null,i=0,r=0){this.m_beginRad=i,this.m_rangeRad=r;let a=this.createCircleData(0,2,1,t,e,s);return this.createCircle(a,e),this.createLineMesh()}createCircleYOZ(t,e,s=null,i=0,r=0){this.m_beginRad=i,this.m_rangeRad=r;let a=this.createCircleData(1,2,0,t,e,s);return this.createCircle(a,e),this.createLineMesh()}createCurveByPositions(t,e=null){this.m_posvs=new Float32Array(6*t.length);let s=0;if(!this.dynColorEnabled)if(null==e)this.useColor(2*t.length);else{let i;this.m_colorvs=new Float32Array(6*t.length);for(let r=0;r<t.length;++r)i=e[r],i.fromArray3(this.m_colorvs,s),s+=3,i.fromArray3(this.m_colorvs,s),s+=3}s=0;for(let i=1;i<t.length;++i)t[i-1].toArray(this.m_posvs,s),s+=3,t[i].toArray(this.m_posvs,s),s+=3;return this.createLineMesh()}createPolygon(t,e=null){return this.createCurveByPositions(t,e)}createLines(t,e=null){if(t.length<1||t.length%2!=0)throw Error("illegal positions data for creating lines.");this.m_posvs=new Float32Array(3*t.length);let s=0;if(!this.dynColorEnabled)if(null==e)this.useColor(t.length);else{let i;this.m_colorvs=new Float32Array(3*t.length);for(let r=0;r<t.length;++r)i=e[r],i.fromArray3(this.m_colorvs,s),s+=3}s=0;for(let i=0;i<t.length;++i)t[i].toArray(this.m_posvs,s),s+=3;return this.createLineMesh()}createLinesWithFS32(t,e=null){if(t.length<3||t.length%3!=0)throw Error("illegal positions data for creating lines.");return this.m_posvs=t,this.dynColorEnabled||(null==e?this.useColor(t.length/3):this.m_colorvs=e),this.createLineMesh()}destroy(){this.m_colorvs=null,this.m_posvs=null}}e.LineMeshBuilder=r},d78b:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s("0f76");class r{constructor(){this.color0=CoRScene.createColor4(),this.color1=CoRScene.createColor4(),this.color2=CoRScene.createColor4(),this.color3=CoRScene.createColor4(),this.offsetU=0,this.offsetV=0,this.uScale=1,this.vScale=1,this.flipVerticalUV=!1,this.axisFlag=0,this.vtxTotal=4,this.trisNumber=2,this.vtCount=6,this.m_ivs=null,this.m_vs=null,this.m_uvs=null,this.m_nvs=null,this.m_cvs=null}getIVS(){return this.m_ivs}getVS(){return this.m_vs}getUVS(){return this.m_uvs}setUVS(t){null!=t&&8==t.length&&(null==this.m_uvs?this.m_uvs=t.slice(0):this.m_uvs.set(t))}getNVS(){return this.m_nvs}getCVS(){return this.m_cvs}initialize(t,e,s,i){if(null!=this.m_vs)return;let r=t,a=e,n=t+s,l=e+i,h=0;switch(this.m_ivs=new Uint16Array([0,1,2,0,2,3]),this.axisFlag){case 0:this.m_vs=new Float32Array([r,a,h,n,a,h,n,l,h,r,l,h]);break;case 1:this.m_vs=new Float32Array([n,h,a,r,h,a,r,h,l,n,h,l]);break;case 2:this.m_vs=new Float32Array([h,r,a,h,n,a,h,n,l,h,r,l]);break;default:break}switch(null==this.m_uvs&&(this.flipVerticalUV?this.m_uvs=new Float32Array([this.offsetU+0*this.uScale,this.offsetV+1*this.vScale,this.offsetU+1*this.uScale,this.offsetV+1*this.vScale,this.offsetU+1*this.uScale,this.offsetV+0*this.vScale,this.offsetU+0*this.uScale,this.offsetV+0*this.vScale]):this.m_uvs=new Float32Array([this.offsetU+0*this.uScale,this.offsetV+0*this.vScale,this.offsetU+1*this.uScale,this.offsetV+0*this.vScale,this.offsetU+1*this.uScale,this.offsetV+1*this.vScale,this.offsetU+0*this.uScale,this.offsetV+1*this.vScale])),this.axisFlag){case 0:this.m_nvs=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]);break;case 1:this.m_nvs=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]);break;case 2:this.m_nvs=new Float32Array([1,0,0,1,0,0,1,0,0,1,0,0]);break;default:break}this.vtxTotal=4,this.trisNumber=2,this.vtCount=6}}class a extends i.MeshBuilder{constructor(){super(),this.m_startX=0,this.m_startZ=0,this.m_pwidth=0,this.m_plong=0,this.m_flag=0,this.uvs=null,this.offsetU=0,this.offsetV=0,this.uScale=1,this.vScale=1,this.flipVerticalUV=!1,this.normalEnabled=!1,this.vbWholeDataEnabled=!1,this.wireframe=!1,this.polyhedral=!0}createCircle(t,e,s=0,i=0){t<.001&&(t=.001),e<1&&(e=1);let r=new Float32Array(3*(e+1)),a=new Uint16Array(3*e);r[0]=0,r[1]=0,r[2]=0;let n=3,l=0;i=l>0?i:2*Math.PI;for(let o=0;o<e;++o)l=s+i*o/e,r[n]=t*Math.cos(l),r[n+1]=t*Math.sin(l),r[n+2]=0,n+=3;n=0;for(let o=2;o<=e;++o)a[n++]=0,a[n++]=o-1,a[n++]=o;a[n++]=0,a[n++]=e,a[n++]=1;let h=CoRScene.createRawMesh();if(h.reset(),h.setTransformMatrix(this.transMatrix),h.setBufSortFormat(this.m_bufSortFormat),this.transMatrix=null,h.addFloat32Data(r,3),h.isUVSEnabled()){let t=new Float32Array(2*(e+1));t[0]=.5,t[1]=.5,n=2;for(let r=0;r<e;++r)l=s+i*r/e,t[n++]=.5*Math.cos(l)+.5,t[n++]=.5*Math.sin(l)+.5;h.addFloat32Data(t,2)}if(h.isNVSEnabled()){let t=new Float32Array(3*(e+1));n=0;for(let s=0;s<=e;++s)t[n++]=0,t[n++]=0,t[n++]=1;h.addFloat32Data(t,3)}return h.setIVS(a),h.initialize(),h}createFixScreen(){return this.createXOY(-1,-1,2,2)}createXOY(t,e,s,i){return this.m_startX=t,this.m_startZ=e,this.m_pwidth=s,this.m_plong=i,this.m_flag=0,this.createPlaneMesh()}createXOYSquare(t){return this.m_startX=-.5*t,this.m_startZ=-.5*t,this.m_pwidth=t,this.m_plong=t,this.m_flag=0,this.createPlaneMesh()}createXOZ(t,e,s,i){return this.m_flag=1,this.m_startX=t,this.m_startZ=e,this.m_pwidth=s,this.m_plong=i,this.createPlaneMesh()}createYOZ(t,e,s,i){return this.m_flag=2,this.m_startX=t,this.m_startZ=e,this.m_pwidth=s,this.m_plong=i,this.createPlaneMesh()}createXOZSquare(t){return this.m_flag=1,this.m_startX=-.5*t,this.m_startZ=-.5*t,this.m_pwidth=t,this.m_plong=t,this.createPlaneMesh()}createPlaneMesh(){return this.createMesh()}setMeshData(t){let e=new r;e.uScale=this.uScale,e.vScale=this.vScale,e.offsetU=this.offsetU,e.offsetV=this.offsetV,e.flipVerticalUV=this.flipVerticalUV,e.axisFlag=this.m_flag,e.setUVS(this.uvs),e.initialize(this.m_startX,this.m_startZ,this.m_pwidth,this.m_plong),t.addFloat32Data(e.getVS(),3),t.isUVSEnabled()&&t.addFloat32Data(e.getUVS(),2),t.isNVSEnabled()&&t.addFloat32Data(e.getNVS(),3),t.setIVS(e.getIVS())}destroy(){this.uvs=null}}e.PlaneMeshBuilder=a},f07f:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s("0f76");class r extends i.MeshBuilder{constructor(){super(),this.m_posList=new Array(8),this.flatNormal=!0,this.normalScale=1,this.uScale=1,this.vScale=1,this.flipVerticalUV=!1,this.uvPartsNumber=0}createCube(t){let e=.5*t,s=CoMath.createVec3(-e,-e,-e),i=CoMath.createVec3(e,e,e);return this.create(s,i)}create(t,e){return this.m_cv=t.clone().addBy(e).scaleBy(.5),this.m_posList[0]=[e.x,t.y,e.z],this.m_posList[1]=[e.x,t.y,t.z],this.m_posList[2]=[t.x,t.y,t.z],this.m_posList[3]=[t.x,t.y,e.z],this.m_posList[4]=[e.x,e.y,e.z],this.m_posList[5]=[e.x,e.y,t.z],this.m_posList[6]=[t.x,e.y,t.z],this.m_posList[7]=[t.x,e.y,e.z],this.createMesh()}scaleUVFaceAt(t,e,s,i,r,a){if(null!=t&&e>=0&&e<6){let n=8*e,l=n+8;for(;n<l;n+=2)t[n]=s+t[n]*r,t[n+1]=i+t[n+1]*a}}setMeshData(t){let e=[0,1,2,3,4,5,6,7,4,5,1,0,5,6,2,1,7,6,2,3,4,7,3,0],s=6,i=24,r=0,a=0,n=0,l=new Float32Array(72),h=new Uint16Array(36),o=[3,2,3,3,2,2];for(r=0;r<6;++r)3==o[r]?(h[n]=a+3,h[n+1]=a+2,h[n+2]=a+1,h[n+3]=a+3,h[n+4]=a+1,h[n+5]=a):(h[n]=a+2,h[n+1]=a+3,h[n+2]=a,h[n+3]=a+2,h[n+4]=a,h[n+5]=a+1),n+=6,a+=4;let u,c=e,d=this.m_posList;for(a=0,r=0;r<i;++r)u=d[c[r]],l.set(u,a),a+=3;if(t.addFloat32Data(l,3),t.isUVSEnabled()){let e=new Float32Array(48);4==this.uvPartsNumber?(this.scaleUVFaceAt(e,0,.5,.5,.5,.5),this.scaleUVFaceAt(e,1,0,0,.5,.5),this.scaleUVFaceAt(e,2,.5,0,.5,.5),this.scaleUVFaceAt(e,3,0,.5,.5,.5),this.scaleUVFaceAt(e,4,.5,0,.5,.5),this.scaleUVFaceAt(e,5,0,.5,.5,.5)):6==this.uvPartsNumber&&(this.scaleUVFaceAt(e,0,0,0,.25,.5),this.scaleUVFaceAt(e,1,.25,0,.25,.5),this.scaleUVFaceAt(e,2,.5,0,.25,.5),this.scaleUVFaceAt(e,3,.75,0,.25,.5),this.scaleUVFaceAt(e,4,0,.5,.25,.5),this.scaleUVFaceAt(e,5,.25,.5,.25,.5)),t.addFloat32Data(e,2)}if(t.isNVSEnabled()){let e=new Float32Array(72);n=0;let a=0,h=0,o=0,u=this.normalScale;if(this.flatNormal)while(n<s){switch(a=0,h=0,o=0,n){case 0:h=-1;break;case 1:h=1;break;case 2:a=1;break;case 3:o=-1;break;case 4:a=-1;break;case 5:o=1;break;default:break}r=12*n,a*=u,h*=u,o*=u,e[r]=a,e[r+1]=h,e[r+2]=o,e[r+3]=a,e[r+4]=h,e[r+5]=o,e[r+6]=a,e[r+7]=h,e[r+8]=o,e[r+9]=a,e[r+10]=h,e[r+11]=o,++n}else{let t=this.m_cv,s=0;while(n<i)r=3*n,a=l[r]-t.x,h=l[r+1]-t.y,o=l[r+2]-t.z,s=Math.sqrt(a*a+h*h+o*o),s>1e-6&&(e[r]=a/s,e[r+1]=h/s,e[r+2]=o/s),++n}t.addFloat32Data(e,3)}t.setIVS(h)}}e.BoxMeshBuilder=r},fae3:function(t,e,s){"use strict";s.r(e);s("1eb2");var i=s("7f48");for(var r in i)["default"].indexOf(r)<0&&function(t){s.d(e,t,(function(){return i[t]}))}(r)}})}));