(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["VoxUI"]=e():t["VoxUI"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var l=e[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)i.d(s,l,function(e){return t[e]}.bind(null,l));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fae3")}({"05f0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("c21f");class l extends s.ClipLabelBase{constructor(){super(...arguments),this.m_colors=null,this.m_material=null,this.m_fixSize=!0,this.m_hasTex=!1}createMesh(t,e){let i=new Uint16Array([0,1,2,0,2,3]),s=new Float32Array(this.createVS(0,0,this.m_width,this.m_height)),l=CoMesh.createRawMesh();if(l.reset(),l.setIVS(i),l.addFloat32Data(s,3),""!=e&&null!=t){let i=t.getTexObjFromAtlas(e),s=new Float32Array(i.uvs);l.addFloat32Data(s,2)}return l.initialize(),l}hasTexture(){return this.m_hasTex}initialize(t,e,i){if(this.isIniting()&&i>0){this.init(),this.m_hasTex=!1;let s=null;if(""!=e&&null!=t){let i=t.getTexObjFromAtlas(e);this.m_fixSize&&(this.m_width=i.getWidth(),this.m_height=i.getHeight()),this.m_hasTex=!0,s=i.texture}let l=this.createMaterial(s),n=this.createMesh(t,e),r=CoEntity.createDisplayEntity();r.setMaterial(l),r.setMesh(n),this.m_entities.push(r),this.m_material=l;let a=new Array(i);for(let t=0;t<i;++t)a[t]=CoMaterial.createColor4();this.m_colors=a,this.m_total=i,this.setClipIndex(0)}}initializeWithoutTex(t,e,i){this.m_width=t,this.m_height=e,this.m_fixSize=!1,this.initialize(null,"",i)}initializeWithSize(t,e,i,s,l){t>0&&e>0&&(this.m_width=t,this.m_height=e,this.m_fixSize=!1,this.initialize(i,s,l))}initializeWithLable(t){if(this.isIniting()&&null!=t&&t!=this){if(t.getClipsTotal()<1)throw Error("Error: srcLable.getClipsTotal() < 1");let e=t.getREntities();for(let i=0;i<e.length;++i){let s=e[i],l=s.getMesh(),n=s.getMaterial().getTextureAt(0),r=this.m_total=t.getClipsTotal(),a=t.getColors(),o=new Array(r);for(let t=0;t<r;++t)o[t]=CoMaterial.createColor4(),o[t].copyFrom(a[t]);this.m_colors=o,this.m_width=t.getWidth(),this.m_height=t.getHeight();let h=this.createMaterial(n),u=CoEntity.createDisplayEntity();u.setMaterial(h),u.setMesh(l),this.m_entities.push(u),null==this.m_material&&(this.m_material=h)}this.setClipIndex(0)}}displaceFromLable(t){if(null!=t&&t!=this&&t.getClipsTotal()<1)throw Error("Error: srcLable.getClipsTotal() < 1")}getColorAt(t){if(t>=0&&t<this.m_total)return this.m_colors[t]}setColorAt(t,e){t>=0&&t<this.m_total&&null!=e&&this.m_colors[t].copyFrom(e)}setColors(t){if(null!=t){let e=this.m_colors,i=t.length;i>e.length&&(i=e.length);for(let s=0;s<i;++s)e[s].copyFrom(t[s])}}setClipIndex(t){t>=0&&t<this.m_total&&(this.m_index=t,this.m_material.setColor(this.m_colors[t]))}getColors(){return this.m_colors}}e.ClipColorLabel=l},"0aa4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(){this.m_tipEntity=null}initialize(t,e=2){if(null==this.m_tipEntity){this.m_uiscene=t;let i=Lib_VoxUI.createRectTextTip();i.initialize(t,e),this.m_tipEntity=i}}getTipEntity(t){return this.m_tipEntity}addTipsTarget(t,e){this.m_tipEntity.addEntity(t)}removeTipsTarget(t,e){this.m_tipEntity.removeEntity(t)}destroy(){}}e.TipsSystem=s},"0b77":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(){this.m_sc=null,this.m_parent=null,this.m_rotation=0,this.m_visible=!0,this.m_entities=[],this.m_width=0,this.m_height=0,this.m_v0=null,this.m_bounds=null,this.m_rcontainer=null,this.premultiplyAlpha=!1,this.transparent=!1,this.info=null,this.depthTest=!1}init(){this.isIniting()&&(this.m_pos=CoMath.createVec3(),this.m_scaleV=CoMath.createVec3(1,1,1),this.m_v0=CoMath.createVec3(),this.m_bounds=CoMath.createAABB())}isIniting(){return null==this.m_bounds}createMaterial(t=null){let e=CoMaterial.createDefaultMaterial();return e.premultiplyAlpha=this.premultiplyAlpha,null!=t&&e.setTextureList([t]),e.initializeByCodeBuf(null!=t),e}applyRST(t){const e=CoRScene.RendererState;this.transparent?this.premultiplyAlpha?t.setRenderState(e.BACK_ALPHA_ADD_ALWAYS_STATE):this.depthTest?t.setRenderState(e.BACK_TRANSPARENT_STATE):t.setRenderState(e.BACK_TRANSPARENT_ALWAYS_STATE):this.depthTest?t.setRenderState(e.NORMAL_STATE):t.setRenderState(e.BACK_NORMAL_ALWAYS_STATE)}createVS(t,e,i,s){let l=t,n=e,r=t+i,a=e+s,o=0;return[l,n,o,r,n,o,r,a,o,l,a,o]}updateScene(){}updateParent(){}__$setScene(t){this.m_sc!=t&&(this.m_sc=t,this.updateScene())}getScene(){return this.m_sc}setParent(t){return t!=this&&(this.m_parent=t,this.updateParent()),this}getParent(){return this.m_parent}getGlobalBounds(){return this.m_bounds}setVisible(t){this.m_visible=t;let e=this.m_entities;for(let i=0;i<e.length;++i)e[i].setVisible(t);null!=this.m_rcontainer&&this.m_rcontainer.setVisible(t)}isVisible(){return this.m_visible}getWidth(){return this.m_bounds.getWidth()}getHeight(){return this.m_bounds.getHeight()}setPosition(t){this.m_pos.copyFrom(t)}setX(t){this.m_pos.x=t}setY(t){this.m_pos.y=t}setZ(t){this.m_pos.z=t}getX(){return this.m_pos.x}getY(){return this.m_pos.y}getZ(){return this.m_pos.z}setXY(t,e){this.m_pos.x=t,this.m_pos.y=e}getPosition(t){return t.copyFrom(this.m_pos),t}setRotation(t){this.m_rotation=t}getRotation(){return this.m_rotation}setScaleXYZ(t,e,i){this.m_scaleV.setXYZ(t,e,i)}setScaleXY(t,e){this.setScaleXYZ(t,e,1)}setScaleX(t){this.m_scaleV.x=t}setScaleY(t){this.m_scaleV.y=t}getScaleX(){return this.m_scaleV.x}getScaleY(){return this.m_scaleV.y}copyTransformFrom(t){if(null!=t){let e=t.getScaleX(),i=t.getScaleY(),s=t.getRotation();this.setScaleXY(e,i),this.setRotation(s),t.getPosition(this.m_v0),this.setPosition(this.m_v0)}}getREntities(){return this.m_entities.slice(0)}getRContainer(){return this.m_rcontainer}updateEntity(t){t.setPosition(this.m_pos),t.setScale3(this.m_scaleV),t.setRotationXYZ(0,0,this.m_rotation),t.update(),this.m_bounds.union(t.getGlobalBounds())}update(){let t=this.m_entities,e=this.m_bounds;this.m_bounds.reset();for(let i=0;i<t.length;++i)this.updateEntity(t[i]);null!=this.m_rcontainer&&this.updateEntity(this.m_rcontainer),e.updateFast()}destroy(){let t=this.m_sc;null!=t&&t.removeEntity(this),this.m_rcontainer=null,this.m_sc=null,this.m_parent=null,this.m_bounds=null;let e=this.m_entities;for(let i=0;i<e.length;++i)e[i].destroy();e=[]}}e.UIEntityBase=s},"0efa":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("75f5");class l{constructor(){this.m_init=!0}initialize(t=null,e=""){return!!this.m_init&&(this.m_init=!1,""!=e&&void 0!==e||(e="static/cospace/coMaterial/CoMaterial.umd.min.js"),new s.ModuleLoader(1,()=>{null!=t&&this.isEnabled()&&t([e])}).load(e),!0)}isEnabled(){return"undefined"!==typeof CoMaterial}createColor4(t,e,i,s){return CoMaterial.createColor4(t,e,i,s)}createDefaultMaterial(t){return CoMaterial.createDefaultMaterial(t)}createLineMaterial(t){return CoMaterial.createLineMaterial(t)}createQuadLineMaterial(t){return CoMaterial.createQuadLineMaterial(t)}createShaderMaterial(t){return CoMaterial.createShaderMaterial(t)}createMaterial(t){return CoMaterial.createMaterial(t)}creatMaterialContextParam(){return CoMaterial.creatMaterialContextParam()}createMaterialContext(){return CoMaterial.createMaterialContext()}}const n=new l;e.VoxMaterial=n},"189a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("5470");class l extends s.LayouterBase{constructor(){super(),this.m_offsetvs=[]}update(t){const e=this.m_entities,i=e.length;let s=CoMath.createVec3();for(let l=0;l<i;++l)s.copyFrom(this.m_offsetvs[l]),s.x=t.width-s.x,s.y=t.height-s.y,s.addBy(this.m_offsetV),e[l].setPosition(s),e[l].update()}initEntityLayout(t,e){let i=CoMath.createVec3();t.getPosition(i),i.x=e.width-i.x,i.y=e.height-i.y,this.m_offsetvs.push(i)}destroy(){this.m_offsetvs=null,super.destroy()}}e.RightTopLayouter=l},"1eb2":function(t,e,i){"use strict";if("undefined"!==typeof window){var s=window.document.currentScript,l=i("8875");s=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l});var n=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(i.p=n[1])}},"23ac":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("0b77");class l extends s.UIEntityBase{constructor(){super(),this.m_uientities=[]}init(){this.isIniting()&&(super.init(),this.m_rcontainer=CoRScene.createDisplayEntityContainer())}addedEntity(t){}removedEntity(t){}update(){for(let t=0;t<this.m_uientities.length;++t)this.m_uientities[t].update();null!=this.m_rcontainer&&this.m_rcontainer.update(),super.update()}addEntity(t){if(null!=t){let e=0;for(;e<this.m_uientities.length;++e)if(this.m_uientities[e]==t)break;if(e>=this.m_uientities.length){this.m_uientities.push(t),t.update();let e=t.getRContainer();null!=e&&this.m_rcontainer.addChild(e);let i=t.getREntities();for(let t=0;t<i.length;++t)this.m_rcontainer.addEntity(i[t]);this.addedEntity(t)}}}removeEntity(t){if(null!=t){let e=0;for(;e<this.m_uientities.length;++e)if(this.m_uientities[e]==t){this.m_uientities.splice(e,1);let i=t.getRContainer();null!=i&&this.m_rcontainer.removeChild(i);let s=t.getREntities();for(let t=0;t<s.length;++t)this.m_rcontainer.removeEntity(s[t]);this.removedEntity(t);break}}}globalToLocal(t){this.m_rcontainer.globalToLocal(t)}localToGlobal(t){this.m_rcontainer.localToGlobal(t)}getEneitysTotal(){return this.m_uientities.length}}e.UIEntityContainer=l},2564:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t,e=null,i=null){this.m_uid=s.s_uid++,this.m_urlChecker=null,this.m_oneTimes=!0,this.m_loaderMap=null,this.m_callback=e,this.m_times=t,this.m_urlChecker=i}setUrlChecker(t=null){this.m_urlChecker=t}getUrlChecker(){return this.m_urlChecker}getUid(){return this.m_uid}setCallback(t){return this.m_callback=t,this}addLoader(t){if(null!=t&&t!=this)if(this.isFinished())t.use();else{null==this.m_loaderMap&&(this.m_loaderMap=new Map);let e=this.m_loaderMap;e.has(t.getUid())||e.set(t.getUid(),t)}return this}isFinished(){return 0==this.m_times}useOnce(){this.m_oneTimes&&(this.m_oneTimes=!1,this.use())}use(){if(this.m_times>0&&(this.m_times--,this.isFinished()&&null!=this.m_callback&&(this.m_callback(),this.m_callback=null,null!=this.m_loaderMap))){for(let[t,e]of this.m_loaderMap)e.use();this.m_loaderMap=null}}hasModuleByUrl(t){return s.loadedMap.has(t)}load(t){if(""==t)return this;null!=this.m_urlChecker&&(t=this.m_urlChecker(t));let e=s.loadedMap;if(e.has(t))return void this.use();let i=s.loadingMap;if(!i.has(t))return i.set(t,[this]),this.loadData(t),this;{let e=i.get(t);for(let t=0;t<e.length;++t)if(e[t]==this)return;e.push(this)}}loadData(t){let e=new XMLHttpRequest;e.open("GET",t,!0),e.onerror=function(t){},e.onload=e=>{this.loadedUrl(t)},e.send(null)}loadedData(t,e){}loadedUrl(t){let e=s.loadedMap,i=s.loadingMap;e.set(t,1);let l=i.get(t);for(let s=0;s<l.length;++s)l[s].use();i.delete(t)}getDataByUrl(t){return null}clearAllData(){}destroy(){this.m_urlChecker=null}}s.s_uid=0,s.loadedMap=new Map,s.loadingMap=new Map,e.PackedLoader=s},"36f3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("5470");class l extends s.LayouterBase{constructor(){super(),this.m_offsetvs=[]}update(t){const e=this.m_entities,i=e.length;for(let s=0;s<i;++s)e[s].update()}initEntityLayout(t,e){let i=CoMath.createVec3();t.getPosition(i),i.y=e.height-i.y,this.m_offsetvs.push(i)}destroy(){this.m_offsetvs=null,super.destroy()}}e.FreeLayouter=l},"38b3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("0b77");class l extends s.UIEntityBase{constructor(){super(),this.m_pw=10,this.m_ph=10,this.m_sx=1,this.m_sy=1,this.m_material=null,this.m_tex=null,this.m_fontSize=24,this.m_text=""}initialize(t,e,i=24){if(""!=t&&this.isIniting()){i<8&&(i=8),this.m_fontSize=i,this.init(),this.m_text=t,this.m_uiScene=e;let s=CoEntity.createDisplayEntity();this.m_fontColor=CoMaterial.createColor4(),this.m_bgColor=CoMaterial.createColor4(1,1,1,0);let l=this.m_uiScene.texAtlas.createCharsImage(this.m_text,this.m_fontSize,this.m_fontColor,this.m_bgColor);this.m_tex=e.rscene.textureBlock.createImageTex2D(l.width,l.height),this.m_tex.setDataFromImage(l),this.m_tex.flipY=!0,this.m_tex.premultiplyAlpha=!0,this.m_tex.minFilter=CoRScene.TextureConst.LINEAR,this.m_tex.magFilter=CoRScene.TextureConst.NEAREST;let n=this.createMaterial(this.m_tex);this.m_material=n,CoMesh.plane.setBufSortFormat(n.getBufSortFormat());let r=CoMesh.plane.createXOY(0,0,1,1);this.m_pw=l.width,this.m_ph=l.height,s.setMaterial(n),s.setMesh(r),this.m_entities.push(s),this.applyRST(s),super.setScaleXY(this.m_sx*this.m_pw,this.m_sy*this.m_ph),this.update()}}setScaleXY(t,e){this.m_sx=t,this.m_sy=e,super.setScaleXY(t*this.m_pw,e*this.m_ph)}setScaleX(t){this.m_sx=t,super.setScaleX(t*this.m_pw)}setScaleY(t){this.m_sy=t,super.setScaleX(t*this.m_ph)}getScaleX(){return this.m_sx}getScaleY(){return this.m_sy}setText(t){if(null!=this.m_tex&&""!=t&&this.m_text!=t){this.m_text=t;let e=this.m_uiScene.texAtlas.createCharsImage(t,this.m_fontSize,this.m_fontColor,this.m_bgColor);this.m_tex.setDataFromImage(e,0,0,0,!0),this.m_tex.updateDataToGpu(),this.m_pw=e.width,this.m_ph=e.height,super.setScaleXY(this.m_sx*this.m_pw,this.m_sy*this.m_ph),this.update()}}getText(){return this.m_text}setColor(t){return this.m_fontColor.copyFrom(t),null!=this.m_material&&this.m_material.setColor(t),this}getColor(){return this.m_fontColor}destroy(){super.destroy(),this.m_material=null,this.m_uiScene=null,this.m_tex=null}}e.TextLabel=l},5470:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(){this.m_entities=[],this.m_opvs=[],this.m_initRect=null,this.m_offsetV=CoMath.createVec3()}setOffset(t){this.m_offsetV.copyFrom(t)}addUIEntity(t){if(null!=t){let e=0;for(;e<this.m_entities.length;++e)if(this.m_entities[e]==t)break;if(e>=this.m_entities.length){let e=CoMath.createVec3();t.getPosition(e),this.m_opvs.push(e),this.m_entities.push(t),null!=this.m_initRect&&this.initEntityLayout(t,this.m_initRect)}}}removeUIEntity(t){if(null!=t){let e=0;for(;e<this.m_entities.length;++e)if(this.m_entities[e]==t){this.m_entities.splice(e,1),this.m_opvs.splice(e,1);break}}}initLayout(t){if(null!=t){null!=this.m_initRect?this.m_initRect.copyFrom(t):this.m_initRect=t.clone();let e=this.m_entities;for(let t=0;t<e.length;++t)this.initEntityLayout(e[t],this.m_initRect)}}initEntityLayout(t,e){}applyLayout(t){}update(t){}destroy(){}}e.LayouterBase=s},"677d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(){}calcRange(t,e=.7,i=.5){i<0?i=0:i>1&&(i=1),e<0?e=0:e>1&&(e=1);let s=t*(1-e),l=i*t,n=l+.5*s;n>t&&(n=t);let r=n-s;return[r,n]}avgLayout(t,e,i,s=-1){if(null!=t&&t.length>0){let l=t.length;switch(l){case 1:let l=.5*(i-e)+e;return[l-.5*t[0]];default:return this.calcAvgMulti(t,e,i,s)}}return null}calcAvgLayout(t,e,i=.7,s=.5){let l=this.calcRange(e,i,s);return this.avgLayout(t,l[0],l[1])}calcAvgFixLayout(t,e,i=10,s=.7,l=.5){let n=this.calcRange(e,s,l);return this.avgLayout(t,n[0],n[1],i)}calcAvgMulti(t,e,i,s=-1){let l=i-e,n=t.length,r=0;for(let o=0;o<n;o++)r+=t[o],s>0&&o>0&&(r+=s);let a=new Array(n);if(a[0]=e,a[n-1]=i-t[n-1],n>2)if(r<l){let e=(l-r)/(n-1);n--;for(let i=1;i<n;i++)a[i]=a[i-1]+t[i-1]+e}else if(s<=0){let e=a[0]+.5*t[0];l=a[n-1]+.5*t[n-1]-e;let i=l/(n-1);e+=i,n--;for(let t=1;t<n;t++)a[t]=e,e+=i}if(r>=l&&s>0){let i=.5*l+e-.5*(r+(n-1)*s);for(let e=0;e<n;e++)a[e]=i,i+=t[e]+s}return a}}e.AxisAlignCalc=s},7020:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t=!0){this.m_map=new Map,this.m_selectFunc=null,this.m_deselectFunc=null,this.m_mouseUpSelect=!0,this.m_btn=null,this.m_mouseUpSelect=t}addButton(t){if(null!=t){null==this.m_map&&(this.m_map=new Map),this.m_map.set(t.uuid,t);const e=CoRScene.MouseEvent;this.m_mouseUpSelect?t.addEventListener(e.MOUSE_UP,this,this.mouseEvtFunc):t.addEventListener(e.MOUSE_DOWN,this,this.mouseEvtFunc)}}mouseEvtFunc(t){this.select(t.currentTarget.uuid)}setSelectedFunction(t,e){this.m_selectFunc=t,this.m_deselectFunc=e}select(t){if(null!=this.m_map&&this.m_map.has(t)){let e=this.m_map.get(t);this.m_btn!=e&&(null!=this.m_btn&&null!=this.m_deselectFunc&&this.m_deselectFunc(this.m_btn),this.m_btn=e,null!=this.m_selectFunc&&this.m_selectFunc(e))}}destroy(){this.m_btn=null,this.m_map=null,this.m_selectFunc=null,this.m_deselectFunc=null}}e.SelectButtonGroup=s},"75f5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("2564");class l extends s.PackedLoader{constructor(t,e=null,i=null){super(t,e,i)}loadData(t){let e=new XMLHttpRequest;e.open("GET",t,!0),e.onerror=function(t){},e.onload=i=>{this.loadedData(e.response,t),this.loadedUrl(t)},e.send(null)}loadedData(t,e){let i=document.createElement("script");i.onerror=t=>{},i.type="text/javascript";try{i.innerHTML=t,document.head.appendChild(i)}catch(s){throw s}}}e.ModuleLoader=l},7908:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("efac"),l=i("189a"),n=i("9686"),r=i("36f3");class a{constructor(){this.m_layouters=[],this.m_rect=null}createFreeLayouter(){let t=new r.FreeLayouter;return this.addLayouter(t),t}createLeftTopLayouter(){let t=new s.LeftTopLayouter;return this.addLayouter(t),t}createRightTopLayouter(){let t=new l.RightTopLayouter;return this.addLayouter(t),t}createRightBottomLayouter(){let t=new n.RightBottomLayouter;return this.addLayouter(t),t}initialize(t){null!=t&&null==this.m_rect&&(t.update(),this.m_rect=CoMath.createAABB2D(t.x,t.y,t.width,t.height))}getAreaRect(){return this.m_rect}addLayouter(t){if(null!=t){let e=0,i=this.m_layouters;for(;e<i.length;++e)if(i[e]==t)break;e>=i.length&&(i.push(t),t.initLayout(this.m_rect))}}removeLayouter(t){if(null!=t){let e=0,i=this.m_layouters;for(;e<i.length;++e)if(i[e]==t){i.splice(e,1);break}}}update(t){this.m_rect.copyFrom(t);for(let e=0;e<this.m_layouters.length;++e)this.m_layouters[e].update(t)}destroy(){}}e.UILayout=a},7913:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("38b3"),l=i("d632"),n=i("cdda"),r=i("677d");class a extends l.UIPanel{constructor(){super(),this.m_promptLabel=null,this.m_prompt="Hi,Prompt Panel.",this.m_btnW=90,this.m_btnH=50,this.m_confirmFunc=null,this.m_cancelFunc=null,this.m_cancelBtnVis=!0,this.marginWidth=70,this.marginXFactor=.5,this.marginYFactor=.6,this.m_alignCalc=new r.AxisAlignCalc}initialize(t,e,i,s,l,n,r="Confirm",a="Cancel"){this.isIniting()&&(this.init(),this.m_scene=t,this.m_rpi=e,this.m_panelW=i,this.m_panelH=s,this.m_btnW=l,this.m_btnH=n,this.m_confirmNS=r,this.m_cancelNS=a,null==this.m_bgColor&&(this.m_bgColor=CoMaterial.createColor4()))}applyConfirmButton(){this.m_cancelBtnVis=!1;let t=this.m_cancelBtn;null==t||t.isVisible()||(this.m_cancelBtn.setVisible(!1),null!=this.m_confirmBtn&&this.isOpen()&&(this.layoutItems(),this.layout()))}applyAllButtons(){this.m_cancelBtnVis=!0,null!=this.m_cancelBtn&&this.m_cancelBtn.setVisible(!0)}setPrompt(t){if(""!=t&&this.m_prompt!=t){this.m_prompt=t;let e=this.m_promptLabel;if(null!=e){e.setText(t);let i=.5*(this.m_panelW-e.getWidth());e.setX(i),e.update(),null!=this.m_confirmBtn&&this.isOpen()&&(this.layoutItems(),this.layout())}}}setPromptTextColor(t){let e=this.m_promptLabel;null!=e&&e.setColor(t)}setListener(t,e){this.m_confirmFunc=t,this.m_cancelFunc=e}destroy(){super.destroy(),this.m_confirmFunc=null,this.m_cancelFunc=null,null!=this.m_confirmBtn&&(this.m_confirmBtn.destroy(),this.m_cancelBtn.destroy(),this.m_confirmBtn=null,this.m_cancelBtn=null)}buildPanel(t,e){this.buildItems()}buildItems(){if(null==this.m_confirmBtn){let t=this.getScene(),e=t.transparentTexAtlas,i=CoMaterial.createColor4,l=this.m_scene.uiConfig,r=l.getUIGlobalColor(),a=l.getUIPanelCfgByName("promptPanel"),o=a.btnKeys,h=a.btnTextFontFormat,u=a.textFontFormat,m=new s.TextLabel;m.depthTest=!0,m.transparent=!0,m.premultiplyAlpha=!0,m.initialize(this.m_prompt,t,u.fontSize);let c=i();c.fromBytesArray3(u.fontColor),m.setColor(c),this.m_promptLabel=m;CoRScene.MouseEvent;let _={text:this.m_confirmNS,textColor:i(),fontSize:h.fontSize,font:""};_.textColor.fromBytesArray3(h.fontColor);let p=[i(),i(),i(),i()];l.applyButtonColor(p,r.button.light);let d=n.ButtonBuilder,g=d.createTextButton(this.m_btnW,this.m_btnH,o[0],e,_,p);this.m_confirmBtn=g,_.text=this.m_cancelNS;let f=d.createTextButton(this.m_btnW,this.m_btnH,o[1],e,_,p);this.m_cancelBtn=f,this.addEntity(f),this.addEntity(g),this.addEntity(m)}}updateBgSize(){let t=this.m_panelW,e=this.m_promptLabel;e.update();let i=this.m_confirmBtn;i.update();let s=this.m_cancelBtn;s.update();let l=s.isVisible()?s.getWidth():0,n=i.getWidth()+l;l=n+Math.round(.2*n)+this.marginWidth;let r=e.getWidth()+this.marginWidth;r=l>r?l:r,t=this.m_panelW=r;let a=this.m_bgLabel;Math.abs(a.getWidth()-t)>.01&&(a.setScaleX(1),a.update(),r=a.getWidth(),a.setScaleX(t/r),a.update())}layoutItems(){this.m_cancelBtn.setVisible(this.m_cancelBtnVis),this.updateBgSize();let t=this.m_panelW,e=this.m_promptLabel,i=[this.m_btnH,e.getHeight()],s=this.m_alignCalc.calcAvgFixLayout(i,this.m_panelH,15,this.marginYFactor,.5),l=.5*(t-e.getWidth());e.setXY(l,s[1]),e.update(),this.m_cancelBtn.isVisible()?this.layoutButtons(l,s[0]):this.layoutOnlyConfirm(l,s[0])}layoutButtons(t,e){let i=[this.m_btnW,this.m_btnW],s=this.m_alignCalc.calcAvgFixLayout(i,this.m_panelW,10,this.marginXFactor,.5),l=this.m_confirmBtn,n=this.m_cancelBtn;l.setXY(s[0],e),l.update(),n.setXY(s[1],e),n.update()}layoutOnlyConfirm(t,e){let i=[this.m_btnW],s=this.m_alignCalc.calcAvgFixLayout(i,this.m_panelW,10,this.marginXFactor,.5),l=this.m_confirmBtn;l.setXY(s[0],e),l.update()}openThis(){let t=CoRScene.MouseEvent;null!=this.m_scene&&(this.m_scene.addEventListener(t.MOUSE_DOWN,this,this.stMouseDownListener),this.m_confirmBtn.addEventListener(t.MOUSE_UP,this,this.btnMouseUpListener),this.m_cancelBtn.addEventListener(t.MOUSE_UP,this,this.btnMouseUpListener),this.layoutItems())}closeThis(){this.m_cancelBtnVis=!0;let t=CoRScene.MouseEvent;null!=this.m_scene&&(this.m_scene.removeEventListener(t.MOUSE_DOWN,this,this.stMouseDownListener),this.m_confirmBtn.removeEventListener(t.MOUSE_UP,this,this.btnMouseUpListener),this.m_cancelBtn.removeEventListener(t.MOUSE_UP,this,this.btnMouseUpListener))}stMouseDownListener(t){let e=t.mouseX,i=t.mouseY,s=this.m_v0;s.setXYZ(e,i,0),this.globalToLocal(s),(s.x<0||s.x>this.m_panelW||s.y<0||s.y>this.m_panelH)&&this.close()}btnMouseUpListener(t){let e=t.uuid;switch(e){case"confirm":this.close(),null!=this.m_confirmFunc&&this.m_confirmFunc();break;case"cancel":this.close(),null!=this.m_cancelFunc&&this.m_cancelFunc();break;default:break}}}e.PromptPanel=a},"7dc1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("f35d"),l=i("05f0"),n=i("ddfa"),r=i("9ba1"),a=i("38b3"),o=i("88b9"),h=i("e8f9"),u=i("cdda"),m=i("7020"),c=i("8698"),_=i("9f6b"),p=i("9043"),d=i("7908"),g=i("7913"),f=i("d632"),y=i("f280"),C=i("0aa4"),b=i("b6c0");function x(){return new r.ColorLabel}function v(){return new _.RectTextTip}function E(){return new s.ClipLabel}function M(){return new l.ClipColorLabel}function L(){return new n.ColorClipLabel}function S(){return new a.TextLabel}function T(){return new o.Button}function B(){return new h.FlagButton}function P(){return new m.SelectButtonGroup}function R(t,e,i,s,l,n){return u.ButtonBuilder.createTextButton(t,e,i,s,l,n)}function I(){return new f.UIPanel}function w(){return new g.PromptPanel}function A(t=null,e=null,i=512,s=3){let l=new c.VoxUIScene;if(null!=e&&l.initialize(e,i,s),l.uiConfig=t,null!=t){let t=new y.PromptSystem;t.initialize(l),l.prompt=t;let e=new C.TipsSystem;e.initialize(l),l.tips=e;let i=new b.PanelSystem;i.initialize(l),l.panel=i}return l}function O(){return new p.TipInfo}function F(){return new d.UILayout}e.createColorLabel=x,e.createRectTextTip=v,e.createClipLabel=E,e.createClipColorLabel=M,e.createColorClipLabel=L,e.createTextLabel=S,e.createButton=T,e.createFlagButton=B,e.createSelectButtonGroup=P,e.createTextButton=R,e.createUIPanel=I,e.createPromptPanel=w,e.createUIScene=A,e.createTipInfo=O,e.createUILayout=F},8698:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("7908");class l{constructor(){this.texAtlas=null,this.transparentTexAtlas=null,this.layout=new s.UILayout,this.prompt=null,this.tips=null,this.panel=null,this.uiConfig=null,this.keyboardInteraction=null,this.texAtlasNearestFilter=!0}resizeHandle(t){this.resize()}initialize(t=null,e=1024,i=3){if(null==this.m_crscene){this.m_crscene=null!=t?t:CoRScene.getRendererScene(),t=this.m_crscene;let s=this.m_crscene.getStage3D();t.addEventListener(CoRScene.EventBase.RESIZE,this,this.resizeHandle);let l=CoRScene.createRendererSceneParam();l.cameraPerspectiveEnabled=!1,l.setAttriAlpha(!1),l.setCamProject(45,.1,3e3),l.setCamPosition(0,0,1500);let n=t.createSubScene(l,i,!0);n.enableMouseEvent(!0);let r=this;r.rscene=n;let a=r.texAtlas=CoTexture.createCanvasTexAtlas(),o=r.transparentTexAtlas=CoTexture.createCanvasTexAtlas();a.initialize(t,e,e,CoMaterial.createColor4(1,1,1,1),!1,this.texAtlasNearestFilter),a.getTexture().premultiplyAlpha=!1,o.initialize(t,e,e,CoMaterial.createColor4(1,1,1,0),!0,this.texAtlasNearestFilter),o.getTexture().premultiplyAlpha=!0,this.m_rstage=s;let h=this.rscene.getCamera();h.translationXYZ(s.stageHalfWidth,s.stageHalfHeight,1500),h.update();let u=this.getStage();this.m_stageRect=CoMath.createAABB2D(0,0,u.stageWidth,u.stageHeight),this.layout.initialize(this.m_stageRect)}}addEventListener(t,e,i,s=!0,l=!1){return this.m_rstage.addEventListener(t,e,i,s,l),this}removeEventListener(t,e,i){return this.m_rstage.removeEventListener(t,e,i),this}getStage(){return this.rscene.getStage3D()}addEntity(t,e=0){if(null!=t){t.__$setScene(this),t.update();let i=t.getRContainer();null!=i&&this.rscene.addContainer(i,e);let s=t.getREntities();for(let t=0;t<s.length;++t)this.rscene.addEntity(s[t],e,!0)}}removeEntity(t){if(null!=t){let e=this.rscene,i=t.getRContainer();null!=i&&e.removeContainer(i);let s=t.getREntities();for(let t=0;t<s.length;++t)e.removeEntity(s[t]);t.__$setScene(null)}}getRect(){return this.m_stageRect}resize(){let t=this.m_rstage,e=this.rscene.getCamera();e.translationXYZ(t.stageHalfWidth,t.stageHalfHeight,1500),e.update(),this.m_stageRect.setTo(0,0,t.stageWidth,t.stageHeight),this.updateLayout()}updateLayout(){this.layout.update(this.m_stageRect)}run(){const t=this.rscene;null!=t&&t.run()}}e.VoxUIScene=l},8875:function(t,e,i){var s,l,n;(function(i,r){l=[],s=r,n="function"===typeof s?s.apply(e,l):s,void 0===n||(t.exports=n)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(_){var i,s,l,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,r=/@([^@]*):(\d+):(\d+)\s*$/gi,a=n.exec(_.stack)||r.exec(_.stack),o=a&&a[1]||!1,h=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),m=document.getElementsByTagName("script");o===u&&(i=document.documentElement.outerHTML,s=new RegExp("(?:[^\\n]+?\\n){0,"+(h-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),l=i.replace(s,"$1").trim());for(var c=0;c<m.length;c++){if("interactive"===m[c].readyState)return m[c];if(m[c].src===o)return m[c];if(o===u&&m[c].innerHTML&&m[c].innerHTML.trim()===l)return m[c]}return null}}return t}))},"88b9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("f35d"),l=i("0b77");class n extends l.UIEntityBase{constructor(){super(),this.m_enabled=!0,this.m_lb=null,this.m_lbs=[],this.uuid="btn"}addLabel(t){this.m_lbs.push(t)}enable(){return null!=this.m_dp&&(this.m_dp.enabled=!0),this.m_enabled=!0,this}disable(){return null!=this.m_dp&&(this.m_dp.enabled=!1),this.m_enabled=!1,this}isEnabled(){return this.m_enabled}setMouseEnabled(t){null!=this.m_entities&&(this.m_entities[0].mouseEnabled=t)}isMouseEnabled(){return null!=this.m_entities&&this.m_entities[0].mouseEnabled}initialize(t,e=null){if(this.isIniting()&&null!=t&&null!=e){if(this.init(),4!=e.length)throw Error("Error: idnsList.length != 4");let i=new s.ClipLabel;i.initialize(t,e),this.m_lb=i,this.initializeEvent(),this.m_lb.setClipIndex(0)}return this}initializeWithLable(t){if(this.isIniting()){if(this.init(),t.getClipsTotal()<1)throw Error("Error: lable.getClipsTotal() < 1");this.m_lb=t,this.initializeEvent(),this.m_lb.setClipIndex(0)}return this}getLable(){return this.m_lb}initializeEvent(){if(null==this.m_dp){const t=CoRScene.MouseEvent;let e=CoRScene.createMouseEvt3DDispatcher();e.currentTarget=this,e.uuid=this.uuid,e.enabled=this.m_enabled,e.addEventListener(t.MOUSE_DOWN,this,this.mouseDownListener),e.addEventListener(t.MOUSE_UP,this,this.mouseUpListener),e.addEventListener(t.MOUSE_OVER,this,this.mouseOverListener),e.addEventListener(t.MOUSE_OUT,this,this.mouseOutListener),this.m_lb.getREntities()[0].setEvtDispatcher(e),this.m_dp=e}this.m_entities=this.m_lb.getREntities().slice(0),this.m_entities[0].mouseEnabled=!0}setVisible(t){super.setVisible(t);let e=this.m_lbs;for(let i=0;i<e.length;++i)e[i].setVisible(t)}addEventListener(t,e,i,s=!0,l=!1){return this.m_dp.addEventListener(t,e,i,s,l),this}removeEventListener(t,e,i){return this.m_dp.removeEventListener(t,e,i),this}mouseOverListener(t){if(this.m_enabled){this.m_lb.setClipIndex(1);let t=this.m_lbs;if(t.length>0)for(let e=0;e<t.length;++e)t[e].setClipIndex(1)}}mouseOutListener(t){if(this.m_enabled){this.m_lb.setClipIndex(0);let t=this.m_lbs;if(t.length>0)for(let e=0;e<t.length;++e)t[e].setClipIndex(0)}}mouseDownListener(t){if(this.m_enabled){this.m_lb.setClipIndex(2);let t=this.m_lbs;if(t.length>0)for(let e=0;e<t.length;++e)t[e].setClipIndex(2)}}mouseUpListener(t){if(this.m_enabled){this.m_lb.setClipIndex(3);let t=this.m_lbs;if(t.length>0)for(let e=0;e<t.length;++e)t[e].setClipIndex(3)}}setClipIndex(t){return this.m_lb.setClipIndex(t),this}copyTransformFrom(t){if(null!=t){let e=t.getScaleX(),i=t.getScaleY(),s=t.getRotation();this.setScaleXY(e,i),this.setRotation(s),t.getPosition(this.m_v0),this.setPosition(this.m_v0)}}getREntities(){let t=this.m_lb.getREntities(),e=this.m_lbs;if(e.length>0){for(let i=0;i<e.length;++i)t=t.concat(e[i].getREntities());return t}return t}getRContainer(){return null}update(){this.m_bounds.reset();let t=this.m_scaleV,e=this.m_lb;e.setRotation(this.m_rotation),e.setScaleXY(t.x,t.y),e.setPosition(this.m_pos),e.update(),this.m_bounds.union(e.getGlobalBounds());let i=this.m_lbs;if(i.length>0)for(let s=0;s<i.length;++s)i[s].copyTransformFrom(this.m_lb),i[s].update(),this.m_bounds.union(i[s].getGlobalBounds());this.m_bounds.updateFast()}destroy(){let t=this.m_lb;null!=t&&(t.destroy(),t=null);let e=this.m_lbs;if(e.length>0){for(let t=0;t<e.length;++t)e[t].destroy();this.m_lbs=[]}null!=this.m_dp&&(this.m_dp.destroy(),this.m_dp=null),super.destroy()}}e.Button=n},9043:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(){this.m_pv=null}getPos(t,e,i,s,l){null==this.m_pv&&(this.m_pv=CoMath.createVec3());let n=this.m_pv,r=s.getHeight(),a=s.getWidth(),o=i.min;return n.x=o.x-2-a,n.y=e+2-r,n.y+r>l.getTop()&&(n.y=l.getTop()-2-r),n}}class l{constructor(){this.m_pv=null}getPos(t,e,i,s,l){null==this.m_pv&&(this.m_pv=CoMath.createVec3());let n=this.m_pv,r=s.getHeight(),a=i.max;return n.x=a.x+2,n.y=e+2-r,n.y+r>l.getTop()&&(n.y=l.getTop()-2-r),n}}class n{constructor(){this.m_pv=null}getPos(t,e,i,s,l){null==this.m_pv&&(this.m_pv=CoMath.createVec3());let n=this.m_pv,r=i.max,a=s.getWidth();return n.x=t+2,n.y=r.y+2,n.x+a>l.getRight()&&(n.x=l.getRight()-2-a),n}}class r{constructor(){this.m_pv=null}getPos(t,e,i,s,l){null==this.m_pv&&(this.m_pv=CoMath.createVec3());let n=this.m_pv,r=s.getHeight(),a=s.getWidth(),o=i.min;return n.x=t+2,n.y=o.y-2-r,n.x+a>l.getRight()&&(n.x=l.getRight()-2-a),n}}const a=new s,o=new l,h=new n,u=new r;class m{constructor(){this.m_content="ui entity tip info",this.m_aligner=null}setContent(t){return this.m_content=t,this}getCotent(){return this.m_content}alignLeft(){return this.m_aligner=a,this}alignRight(){return this.m_aligner=o,this}alignTop(){return this.m_aligner=h,this}alignBottom(){return this.m_aligner=u,this}getPos(t,e,i,l,n=null){return null==this.m_aligner&&(this.m_aligner=new s),this.m_aligner.getPos(t,e,i,l,n)}destroy(){this.m_aligner=null}}e.TipInfo=m},9686:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("5470");class l extends s.LayouterBase{constructor(){super(),this.m_offsetvs=[]}update(t){const e=this.m_entities,i=e.length;let s=CoMath.createVec3();for(let l=0;l<i;++l)s.copyFrom(this.m_offsetvs[l]),s.x=t.width-s.x,s.addBy(this.m_offsetV),e[l].setPosition(s),e[l].update()}initEntityLayout(t,e){t.update();let i=CoMath.createVec3();t.getPosition(i),i.x=e.width-i.x,this.m_offsetvs.push(i)}destroy(){this.m_offsetvs=null,super.destroy()}}e.RightBottomLayouter=l},"9ba1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("0b77");class l extends s.UIEntityBase{constructor(){super(),this.m_color=null,this.m_material=null}createMesh(t){let e=new Uint16Array([0,1,2,0,2,3]),i=new Float32Array(this.createVS(0,0,this.m_width,this.m_height)),s=CoMesh.createRawMesh();return s.reset(),s.setBufSortFormat(t.getBufSortFormat()),s.setIVS(e),s.addFloat32Data(i,3),s.initialize(),s}initialize(t,e){if(this.isIniting()){this.init(),this.m_width=t,this.m_height=e;let i=CoMaterial.createDefaultMaterial();i.initializeByCodeBuf(!1),this.m_color=CoMaterial.createColor4();let s=this.createMesh(i),l=CoEntity.createDisplayEntity();l.setMaterial(i),l.setMesh(s),this.applyRST(l),this.m_entities.push(l),this.m_material=i}}setColor(t){return this.m_color.copyFrom(t),null!=this.m_material&&this.m_material.setColor(t),t}getColor(){return this.m_color}destroy(){super.destroy(),this.m_material=null}}e.ColorLabel=l},"9d95":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("0b77");class l extends s.UIEntityBase{constructor(){super(),this.m_pw=10,this.m_ph=10,this.m_sx=1,this.m_sy=1,this.m_material=null,this.m_tex=null}initialize(t,e,i=128,s=128){if(null!=e&&this.isIniting()){this.init(),this.m_tex=e,this.m_uiScene=t,this.m_color=CoMaterial.createColor4(),this.m_tex.flipY=!0,this.m_tex.premultiplyAlpha=!0,this.m_tex.minFilter=CoRScene.TextureConst.LINEAR,this.m_tex.magFilter=CoRScene.TextureConst.NEAREST;let l=this.createMaterial(this.m_tex);this.m_material=l,CoMesh.plane.applyMaterial(l,!0);let n=CoMesh.plane.createXOY(0,0,1,1);this.m_pw=i,this.m_ph=s;let r=CoEntity.createDisplayEntity();r.setMaterial(l),r.setMesh(n),this.m_entities.push(r),this.applyRST(r),super.setScaleXY(this.m_sx*this.m_pw,this.m_sy*this.m_ph),this.update()}}setScaleXY(t,e){this.m_sx=t,this.m_sy=e,super.setScaleXY(t*this.m_pw,e*this.m_ph)}setScaleX(t){this.m_sx=t,super.setScaleX(t*this.m_pw)}setScaleY(t){this.m_sy=t,super.setScaleX(t*this.m_ph)}getScaleX(){return this.m_sx}getScaleY(){return this.m_sy}setColor(t){return this.m_color.copyFrom(t),null!=this.m_material&&this.m_material.setColor(t),this}getColor(){return this.m_color}destroy(){super.destroy(),this.m_material=null,this.m_uiScene=null,this.m_tex=null}}e.TextureLabel=l},"9f6b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("0b77");class l extends s.UIEntityBase{constructor(){super(),this.m_pw=10,this.m_ph=10,this.m_rpi=0,this.m_texAtlas=null,this.m_tex=null,this.m_fontSize=24,this.m_text="tipsInfo",this.premultiplyAlpha=!0}initialize(t,e=0,i=24,s=null,l=null){if(this.isIniting()){e<0&&(e=0),i<12&&(i=12),this.m_texAtlas=t.texAtlas,this.init(),this.m_uiScene=t,this.m_rpi=e;let n=CoEntity.createDisplayEntity(),r=t.uiConfig,a=r.getUIGlobalText().fontFormat.tips;this.m_fontSize=a.fontSize,this.m_fontColor=null==s?r.createColorByData(a.fontColor):s,this.m_bgColor=null==l?CoMaterial.createColor4(.1,.1,.1,.5):l;let o=this.m_texAtlas.createCharsImage(this.m_text,this.m_fontSize,this.m_fontColor,this.m_bgColor);this.m_tex=t.rscene.textureBlock.createImageTex2D(o.width,o.height),this.m_tex.setDataFromImage(o),this.m_tex.flipY=!0,this.m_tex.premultiplyAlpha=!0,this.m_tex.minFilter=CoRScene.TextureConst.LINEAR,this.m_tex.magFilter=CoRScene.TextureConst.NEAREST;let h=this.createMaterial(this.m_tex);CoMesh.plane.setBufSortFormat(h.getBufSortFormat());let u=CoMesh.plane.createXOY(0,0,1,1);this.m_pw=o.width,this.m_ph=o.height,n.setMaterial(h),n.setMesh(u),this.m_entities.push(n),this.applyRST(n),this.setScaleXY(o.width,o.height)}}addEntity(t){if(null!=t){const e=CoRScene.MouseEvent;t.addEventListener(e.MOUSE_OUT,this,this.targetMouseOut),t.addEventListener(e.MOUSE_OVER,this,this.targetMouseOver),t.addEventListener(e.MOUSE_MOVE,this,this.targetMouseMove)}}removeEntity(t){if(null!=t){const e=CoRScene.MouseEvent;t.removeEventListener(e.MOUSE_OUT,this,this.targetMouseOut),t.removeEventListener(e.MOUSE_OVER,this,this.targetMouseOver),t.removeEventListener(e.MOUSE_MOVE,this,this.targetMouseMove)}}moveTar(t,e,i){let s=t.getGlobalBounds(),l=t.info,n=l.getPos(e,i,s,this.getGlobalBounds(),this.m_uiScene.getRect());this.setXY(n.x,n.y),this.update()}targetMouseOver(t){null==this.getScene()&&this.m_uiScene.addEntity(this,this.m_rpi),this.setVisible(!0);let e=t.currentTarget;this.setText(e.info.getCotent()),this.moveTar(e,t.mouseX,t.mouseY)}targetMouseMove(t){let e=t.currentTarget;this.moveTar(e,t.mouseX,t.mouseY)}targetMouseOut(t){this.setVisible(!1)}setText(t){if(null!=this.m_tex&&""!=t&&this.m_text!=t){this.m_text=t;let e=this.m_texAtlas.createCharsImage(t,this.m_fontSize,this.m_fontColor,this.m_bgColor);this.m_tex.setDataFromImage(e,0,0,0,!0),this.m_tex.updateDataToGpu(),this.m_pw=e.width,this.m_ph=e.height,this.setScaleXY(e.width,e.height)}}getText(){return this.m_text}destroy(){super.destroy(),this.m_uiScene=null,null!=this.m_tex&&(this.m_tex=null),this.m_texAtlas=null}}e.RectTextTip=l},b6c0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("d1ef");class l{constructor(){this.m_colorPickPanel=new s.ColorPickPanel,this.m_curPanel=null}initialize(t,e=1){null==this.m_uiscene&&(this.m_uiscene=t,this.m_colorPickPanel.setBGColor(CoMaterial.createColor4(.4,.4,.4)),this.m_colorPickPanel.initialize(t,e,260,260,3))}getPanelByName(t){switch(t){case"colorPickPanel":return this.m_colorPickPanel;default:return null}}setXY(t,e,i,s=0){let l=this.getPanelByName(t);null!=l&&l.setXY(e,i)}openPanel(t,e=0){let i=this.getPanelByName(t);null!=i&&i.open()}closePanel(t,e=0){let i=this.getPanelByName(t);null!=i&&i.close()}getPanel(t,e=0){return this.getPanelByName(t)}}e.PanelSystem=l},c21f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("0b77");class l extends s.UIEntityBase{constructor(){super(),this.m_index=0,this.m_total=0,this.m_step=6,this.m_vtCount=0,this.m_sizes=null,this.uuid="label"}createVS(t,e,i,s){let l=t,n=e,r=t+i,a=e+s,o=0;return[l,n,o,r,n,o,r,a,o,l,a,o]}setClipIndex(t){}setCircleClipIndex(t){t%=this.m_total,t+=this.m_total,t%=this.m_total,this.setClipIndex(t)}getClipIndex(){return this.m_index}getClipsTotal(){return this.m_total}getClipWidthAt(t){return null==this.m_sizes?this.m_width:t>=0&&t<this.m_total?(t<<=1,this.m_sizes[t]):void 0}getClipHeightAt(t){return null==this.m_sizes?this.m_height:t>=0&&t<this.m_total?(t<<=1,this.m_sizes[t+1]):void 0}getClipWidth(){return this.m_width}getClipHeight(){return this.m_height}destroy(){this.m_sizes=null,this.m_total=0,super.destroy()}}e.ClipLabelBase=l},cdda:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("f35d"),l=i("05f0"),n=i("88b9"),r=i("0efa");class a{static createCurrTextBtn(t,e,i,r,a,o=null){if(null!==a.text&&""!=a.text){let h=new l.ClipColorLabel;h.initializeWithoutTex(t,e,4),h.setColors(o);let u=new s.ClipLabel;u.depthTest=!0,u.transparent=!0,u.premultiplyAlpha=!0,u.initialize(r,[a.text]),u.setColor(a.textColor);let m=new n.Button;return m.uuid=i,m.addLabel(u),m.initializeWithLable(h),m}return null}static createTextButton(t,e,i,s,l,n){let o=l,h=s.createCharsCanvasFixSize(t,e,o.text,o.fontSize,r.VoxMaterial.createColor4(),r.VoxMaterial.createColor4(1,1,1,0));return s.addImageToAtlas(o.text,h),a.createCurrTextBtn(t,e,i,s,l,n)}static createPanelBtnWithCfg(t,e,i,s,l){let n=t.transparentTexAtlas,a=t.uiConfig,o=l.btnSize,h=o[0],u=o[1],m=l.btnNames,c=l.btnKeys,_=l.btnTips,p=l.btnTextFontFormat;n.setFontName(p.font);let d=r.VoxMaterial.createColor4();d.fromBytesArray3(a.getUIGlobalColor().text);let g=r.VoxMaterial.createColor4(1,1,1,0),f=n.createCharsCanvasFixSize(h,u,m[s],p.fontSize,d,g);n.addImageToAtlas(m[s],f);let y=Lib_VoxUI.createClipColorLabel();y.initializeWithoutTex(h,u,4);let C=Lib_VoxUI.createClipLabel();C.transparent=!0,C.premultiplyAlpha=!0,C.initialize(n,[m[s]]);let b=Lib_VoxUI.createButton();b.uuid=c[s],b.addLabel(C),b.initializeWithLable(y);let x="right",v=l.buttonStyle;if(void 0!=v&&void 0!=v.globalColor&&(x=v.tipsAlign,a.applyButtonGlobalColor(b,v.globalColor)),_.length>s){t.tips.addTipsTarget(b);let e=Lib_VoxUI.createTipInfo().setContent(_[s]);switch(x){case"top":b.info=e.alignTop();break;case"bottom":b.info=e.alignBottom();break;default:b.info=e.alignRight();break}}return b.setXY(e,i),b}}e.ButtonBuilder=a},d1ef:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("d632"),l=i("9d95");class n extends s.UIPanel{constructor(){super(),this.m_marginWidth=15,this.m_callback=null,this.m_initing=!0,this.m_pixelsW=256,this.m_pixelsH=256}initialize(t,e,i=260,s=260,l=3){this.isIniting()&&(this.init(),this.m_marginWidth=l,this.m_scene=t,this.m_rpi=e,this.m_panelW=i,this.m_panelH=s,null==this.m_bgColor&&(this.m_bgColor=CoMaterial.createColor4()))}destroy(){super.destroy()}setSelectColorCallback(t){this.m_callback=t}buildPanel(t,e){this.buildItems()}buildItems(){if(this.m_initing){this.m_initing=!1;let t=this.getScene(),e="static/assets/colors.png",i=this.m_marginWidth,s=this.m_panelW-2*i,n=this.m_panelH-2*i,r=this.createTexByUrl(e),a=new l.TextureLabel;a.initialize(t,r,s,n),a.setXY(i,i),this.addEntity(a)}}getRGBAByXY(t,e){t|=0,e|=0,t<0&&(t=0),e<0&&(e=0),t>255&&(t=255),e>255&&(e=255),e=255-e,null==this.m_color&&(this.m_color=CoMaterial.createColor4());let i=this.m_pixels;if(null!=this.m_pixels){let s=4*(e*this.m_pixelsW+t),l=i[s],n=i[s+1],r=i[s+2];this.m_color.setRGB3Bytes(l,n,r)}return this.m_color}createColorData(t){let e=document.createElement("canvas");e.style.display="bolck",e.style.overflow="hidden",e.style.left="0px",e.style.top="0px",e.style.position="absolute",e.width=t.width,e.height=t.height;let i=e.getContext("2d");i.drawImage(t,0,0);let s=i.getImageData(0,0,t.width,t.height);this.m_pixels=s.data}createTexByUrl(t=""){let e=this.getScene(),i=e.rscene.textureBlock.createImageTex2D(64,64,!1),s=new Image;return s.onload=t=>{this.createColorData(s),i.setDataFromImage(s,0,0,0,!1)},s.src=t,i}openThis(){let t=CoRScene.MouseEvent;null!=this.m_scene&&this.m_scene.addEventListener(t.MOUSE_DOWN,this,this.stMouseDownListener)}closeThis(){let t=CoRScene.MouseEvent;null!=this.m_scene&&this.m_scene.removeEventListener(t.MOUSE_DOWN,this,this.stMouseDownListener),this.m_callback=null}stMouseDownListener(t){let e=t.mouseX,i=t.mouseY,s=this.m_v0;if(s.setXYZ(e,i,0),this.globalToLocal(s),s.x<0||s.x>this.m_panelW||s.y<0||s.y>this.m_panelH)this.close();else{let t=this.m_marginWidth;s.x-=t,s.y-=t;let e=this.getRGBAByXY(s.x,s.y);null!=this.m_callback&&this.m_callback(e)}}layout(){}}e.ColorPickPanel=n},d632:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("23ac"),l=i("9ba1");class n extends s.UIEntityContainer{constructor(){super(),this.m_panelW=100,this.m_panelH=150,this.m_isOpen=!1,this.autoLayout=!0,this.m_openListener=null,this.m_closeListener=null,this.m_panelBuilding=!0}setSize(t,e){this.m_panelW=t,this.m_panelH=e}setBGColor(t){return null==this.m_bgColor&&(this.m_bgColor=CoMaterial.createColor4()),this.m_bgColor.copyFrom(t),null!=this.m_bgLabel&&this.m_bgLabel.setColor(t),this}init(){this.isIniting()&&(null==this.m_bgColor&&(this.m_bgColor=CoMaterial.createColor4()),super.init())}setUIscene(t,e=-1){null==this.m_scene&&null!=t&&(this.m_scene=t,e>=0&&(this.m_rpi=e),this.init())}openThis(){}closeThis(){}setOpenAndLoseListener(t,e){this.m_openListener=t,this.m_closeListener=e}open(t=null,e=-1){this.m_isOpen||(this.isIniting()&&this.init(),null!=t&&(this.m_scene=t),e>=0&&(this.m_rpi=e),this.m_scene.addEntity(this,this.m_rpi),this.m_isOpen=!0,this.setVisible(!0),this.openThis(),this.autoLayout&&(this.addLayoutEvt(),this.layout()),null!=this.m_openListener&&this.m_openListener())}isOpen(){return this.m_isOpen}close(){this.m_isOpen&&(this.m_scene.removeEntity(this),this.m_isOpen=!1,this.setVisible(!1),this.removeLayoutEvt(),this.closeThis(),null!=this.m_closeListener&&this.m_closeListener())}destroy(){super.destroy(),this.m_panelBuilding=!0,null!=this.m_bgLabel&&(this.m_bgLabel.destroy(),this.m_bgLabel=null),this.m_openListener=null,this.m_closeListener=null}buildPanel(t,e){}updateScene(){let t=this.getScene();if(null!=t&&this.m_panelBuilding&&null==this.m_bgLabel){this.m_panelBuilding=!1;let t=this.m_panelW,e=this.m_panelH,i=this.createBG(t,e);this.buildPanel(t,e),this.addEntity(i),this.setVisible(this.m_isOpen),this.m_isOpen&&(this.addLayoutEvt(),this.layout())}}addLayoutEvt(){if(this.autoLayout){let t=this.getScene();if(null!=t){let e=CoRScene.EventBase;t.addEventListener(e.RESIZE,this,this.resize)}}}removeLayoutEvt(){if(this.autoLayout){let t=this.getScene();if(null!=t){let e=CoRScene.EventBase;t.removeEventListener(e.RESIZE,this,this.resize)}}}createBG(t,e){let i=new l.ColorLabel;return i.depthTest=!0,i.initialize(t,e),i.setZ(-.1),i.setColor(this.m_bgColor),this.m_bgLabel=i,this.initializeEvent(i.getREntities()[0]),i}initializeEvent(t,e="uiPlane"){const i=CoRScene.MouseEvent;let s=CoRScene.createMouseEvt3DDispatcher();s.currentTarget=this,s.uuid=e,s.addEventListener(i.MOUSE_OVER,this,this.mouseOverListener),s.addEventListener(i.MOUSE_OUT,this,this.mouseOutListener),t.setEvtDispatcher(s),t.mouseEnabled=!0}mouseOverListener(t){}mouseOutListener(t){}resize(t){this.layout()}layout(){let t=this.getScene();if(null!=t){this.update();let e=t.getRect(),i=Math.round(e.x+.5*(e.width-this.getWidth())),s=Math.round(e.y+.5*(e.height-this.getHeight()));this.setXY(i,s),this.update()}}}e.UIPanel=n},ddfa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("0b77");class l extends s.UIEntityBase{constructor(){super(),this.m_index=0,this.m_total=0,this.m_colors=null,this.m_hasTex=!0,this.m_lb=null,this.m_ilb=null,this.uuid="colorClipLabel"}hasTexture(){return this.m_hasTex}setIconLabel(t){this.m_ilb=t}getIconLabel(){return this.m_ilb}initialize(t,e){if(this.isIniting()&&e>0){this.init(),this.m_lb=t;let i=new Array(e);for(let t=0;t<e;++t)i[t]=CoMaterial.createColor4();this.m_colors=i,this.m_total=e,this.setClipIndex(0)}}getColorAt(t){if(t>=0&&t<this.m_total)return this.m_colors[t]}setColorAt(t,e){t>=0&&t<this.m_total&&null!=e&&this.m_colors[t].copyFrom(e)}setClipIndex(t){t>=0&&t<this.m_total&&(this.m_index=t,this.m_lb.setColor(this.m_colors[t]))}setCircleClipIndex(t){t%=this.m_total,t+=this.m_total,t%=this.m_total,this.setClipIndex(t)}getClipIndex(){return this.m_index}getClipsTotal(){return this.m_total}setLabelClipIndex(t){this.m_lb.setClipIndex(t)}getLabelClipIndex(){return this.m_lb.getClipIndex()}setLabelCircleClipIndex(t){this.m_lb.setCircleClipIndex(t)}getLabelClipsTotal(){return this.m_lb.getClipsTotal()}getColors(){return this.m_colors}getClipWidth(){return this.m_lb.getClipHeight()}getClipHeight(){return this.m_lb.getClipWidth()}copyTransformFrom(t){if(null!=t){let e=t.getScaleX(),i=t.getScaleY(),s=t.getRotation();this.setScaleXY(e,i),this.setRotation(s),t.getPosition(this.m_v0),this.setPosition(this.m_v0)}}getREntities(){if(null!=this.m_ilb){let t=this.m_lb.getREntities();return t.concat(this.m_ilb.getREntities())}return this.m_lb.getREntities()}getRContainer(){return null}update(){this.m_bounds.reset();let t=this.m_scaleV,e=this.m_lb;e.setRotation(this.m_rotation),e.setScaleXY(t.x,t.y),e.setPosition(this.m_pos),e.update(),this.m_bounds.union(e.getGlobalBounds()),e=this.m_ilb,null!=e&&(e.copyTransformFrom(this.m_lb),e.update(),this.m_bounds.union(e.getGlobalBounds())),this.m_bounds.updateFast()}destroy(){this.m_colors=null,this.m_total=0;let t=this.m_lb;null!=t&&(t.destroy(),t=null),t=this.m_ilb,null!=t&&(t.destroy(),t=null),super.destroy()}}e.ColorClipLabel=l},e8f9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("88b9"),l=i("f35d"),n=i("ddfa");class r extends s.Button{constructor(){super(),this.m_flagLb=null,this.m_pw=32,this.m_ph=32,this.m_borderWidth=4,this.m_dis=4,this.uuid="flagBtn"}initializeWithSize(t,e=32,i=32,s=4,l=4){return this.isIniting()&&null!=t&&(this.m_pw=e,this.m_ph=i,this.m_borderWidth=s,this.m_dis=l,this.m_selectDispatcher=CoRScene.createEventBaseDispatcher(),this.m_currEvent=CoRScene.createSelectionEvent(),this.createFlagBtn(t)),this}addEventListener(t,e,i,s=!0,l=!1){return t==CoRScene.SelectionEvent.SELECT?this.m_selectDispatcher.addEventListener(t,e,i,s,l):super.addEventListener(t,e,i,s,l),this}removeEventListener(t,e,i){return t==CoRScene.SelectionEvent.SELECT?this.m_selectDispatcher.removeEventListener(t,e,i):super.removeEventListener(t,e,i),this}createFlagBtn(t){let e=t,i=CoMaterial.createColor4(.7,.7,.7),s=CoMaterial.createColor4(.3,.3,.3),r=this.createFlagImg(e,i,s);e.addImageToAtlas("flagBtn_01",r),i=CoMaterial.createColor4(.7,.7,.7),s=CoMaterial.createColor4(.3,.3,.3);let a=CoMaterial.createColor4(1,1,1);r=this.createFlagImg(e,i,s,a,this.m_dis),e.addImageToAtlas("flagBtn_02",r);let o=["flagBtn_01","flagBtn_02"],h=new l.ClipLabel;h.initialize(e,o);let u=new n.ColorClipLabel;u.initialize(h,4),u.getColorAt(0).setRGB3f(.8,.8,.8),u.getColorAt(1).setRGB3f(0,1,.2),u.getColorAt(2).setRGB3f(1,.2,1),u.setLabelClipIndex(0),this.m_flagLb=h,this.initializeWithLable(u)}sendSelectionEvt(){this.m_selectDispatcher.uuid=this.uuid,this.m_currEvent.target=this,this.m_currEvent.type=CoRScene.SelectionEvent.SELECT,this.m_currEvent.flag=this.getFlag(),this.m_currEvent.phase=1,this.m_selectDispatcher.dispatchEvt(this.m_currEvent),this.m_currEvent.target=null}mouseUpListener(t){this.isEnabled()&&(super.mouseUpListener(t),this.selectListener())}setFlag(t,e=!1){this.m_flagLb.setClipIndex(t?1:0),e&&this.sendSelectionEvt()}getFlag(){return 1==this.m_flagLb.getClipIndex()}selectListener(){1==this.m_flagLb.getClipIndex()?this.m_flagLb.setClipIndex(0):this.m_flagLb.setClipIndex(1),this.sendSelectionEvt()}createFlagImg(t,e,i,s=null,l=2){let n=this.m_pw,r=this.m_ph,a=this.m_borderWidth,o=t.createCanvas(n,r,e,!1),h=o.getContext("2d");return h.fillStyle=i.getCSSDecRGBAColor(),h.fillRect(a,a,n-2*a,r-2*a-1),null!=s&&(h.fillStyle=s.getCSSDecRGBAColor(),h.fillRect(a+l,a+l,n-2*(a+l),r-2*(a+l)-1)),o}destroy(){this.m_flagLb=null,super.destroy()}}e.FlagButton=r},efac:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("5470");class l extends s.LayouterBase{constructor(){super(),this.m_offsetvs=[]}update(t){const e=this.m_entities,i=e.length;let s=CoMath.createVec3();for(let l=0;l<i;++l)s.copyFrom(this.m_offsetvs[l]),s.y=t.height-s.y,s.addBy(this.m_offsetV),e[l].setPosition(s),e[l].update()}initEntityLayout(t,e){let i=CoMath.createVec3();t.getPosition(i),i.y=e.height-i.y,this.m_offsetvs.push(i)}destroy(){this.m_offsetvs=null,super.destroy()}}e.LeftTopLayouter=l},f280:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("7913");class l{constructor(){this.m_promptPanel=null}initialize(t,e=3){if(null==this.m_promptPanel){this.m_uiscene=t;let i=t.uiConfig,l=i.getUIPanelCfgByName("promptPanel"),n=l.panelSize,r=l.btnSize,a=l.btnNames,o=new s.PromptPanel;o.initialize(this.m_uiscene,e,n[0],n[1],r[0],r[1],a[0],a[1]),o.setZ(3);let h=CoMaterial.createColor4();h.fromBytesArray3(l.bgColor),o.setBGColor(h),this.m_promptPanel=o}}setPromptListener(t,e,i=0){null!=this.m_promptPanel&&this.m_promptPanel.setListener(t,e)}showPrompt(t,e=0){null!=this.m_promptPanel&&(this.m_promptPanel.setPrompt(t),this.m_promptPanel.open())}setPromptTextColor(t,e=0){null!=this.m_promptPanel&&this.m_promptPanel.setPromptTextColor(t)}setPromptBGColor(t,e=0){null!=this.m_promptPanel&&this.m_promptPanel.setBGColor(t)}getPromptPanel(t=0){return this.m_promptPanel}}e.PromptSystem=l},f35d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i("c21f");class l extends s.ClipLabelBase{constructor(){super(),this.m_material=null}createMesh(t,e){let i=4,s=[0,1,2,0,2,3];const l=this.m_total;let n=new Uint16Array(6*l),r=new Float32Array(12*l),a=new Float32Array(8*l);this.m_sizes=new Array(2*l);let o=0;for(let u=0;u<l;++u){const l=t.getTexObjFromAtlas(e[u]);n.set(s,u*s.length),r.set(this.createVS(0,0,l.getWidth(),l.getHeight()),12*u),a.set(l.uvs,8*u);for(let t=0;t<s.length;++t)s[t]+=i;this.m_sizes[o++]=l.getWidth(),this.m_sizes[o++]=l.getHeight()}let h=CoMesh.createRawMesh();return h.reset(),h.setIVS(n),h.addFloat32Data(r,3),h.addFloat32Data(a,2),h.initialize(),h}hasTexture(){return!0}initialize(t,e){if(this.isIniting()&&null!=t&&null!=e&&e.length>0){this.init(),this.m_pos=CoMath.createVec3(),this.m_total=e.length;let i=t.getTexObjFromAtlas(e[0]),s=this.createMesh(t,e);this.m_vtCount=s.vtCount,this.m_material=this.createMaterial(i.texture);let l=CoEntity.createDisplayEntity();l.setMaterial(this.m_material),l.setMesh(s),l.setIvsParam(0,this.m_step),this.m_entities.push(l),this.applyRST(l),this.setClipIndex(0)}}initializeWithLable(t){if(this.isIniting()&&null!=t&&t!=this){if(t.getClipsTotal()<1)throw Error("Error: srcLable.getClipsTotal() < 1");this.init();let e=t.getREntities();for(let i=0;i<e.length;++i){let s=e[i],l=s.getMesh();this.m_pos=CoMath.createVec3();let n=s.getMaterial().getTextureAt(0),r=this.m_total=t.getClipsTotal();this.m_sizes=new Array(2*r);let a=0;for(let e=0;e<r;++e)this.m_sizes[a++]=t.getClipWidthAt(e),this.m_sizes[a++]=t.getClipHeightAt(e);this.m_vtCount=l.vtCount,this.m_material=this.createMaterial(n);let o=CoEntity.createDisplayEntity();o.setMaterial(this.m_material),o.setMesh(l),o.setIvsParam(0,this.m_step),this.m_entities.push(o),this.applyRST(o)}this.setClipIndex(0)}}displaceFromLable(t){if(null!=t&&t!=this&&t.getClipsTotal()<1)throw Error("Error: srcLable.getClipsTotal() < 1")}setColor(t){null!=this.m_material&&this.m_material.setColor(t)}getColor(t){null!=this.m_material&&this.m_material.getColor(t)}setClipIndex(t){if(t>=0&&t<this.m_total){this.m_index=t;let e=this.m_entities;for(let i=0;i<e.length;++i)e[i].setIvsParam(t*this.m_step,this.m_step);t<<=1,this.m_width=this.m_sizes[t],this.m_height=this.m_sizes[t+1]}}}e.ClipLabel=l},fae3:function(t,e,i){"use strict";i.r(e);i("1eb2");var s=i("7dc1");for(var l in s)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(l)}})}));